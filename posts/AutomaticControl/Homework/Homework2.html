<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
<!-------------------------------------------------------------title goes here  --------------------------------------------------------------------->
<!-------------------------------------------------------------title goes here  --------------------------------------------------------------------->
    <title>[自控]作業二</title>
<!-------------------------------------------------------------title goes here  --------------------------------------------------------------------->
<!-------------------------------------------------------------title goes here  --------------------------------------------------------------------->


    <!-- Bootstrap Core CSS -->
<!---------------------------------------------------------Change CSS relative position here  -------------------------------------------------------->    
<!---------------------------------------------------------Change CSS relative position here  -------------------------------------------------------->
    <link href="../../../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Theme CSS -->
    <link href="../../../css/clean-blog.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="../../../vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
<!---------------------------------------------------------Change CSS relative position here  -------------------------------------------------------->
<!---------------------------------------------------------Change CSS relative position here  -------------------------------------------------------->
    <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- 下面這行加入Math Jax 的 LaTex CDN -->
    <script type="text/javascript" src="../../../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    Menu <i class="fa fa-bars"></i>
                </button>
<!---------------------------------------------------------Change html relative position here  ------------------------------------------------------->        
<!---------------------------------------------------------Change html relative position here  ------------------------------------------------------->        
                <a class="navbar-brand" href="../../../index.html">Noob Notes</a>
<!---------------------------------------------------------Change html relative position here  ------------------------------------------------------->        
<!---------------------------------------------------------Change html relative position here  ------------------------------------------------------->        
            </div>



            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
<!---------------------------------------------------------Change html relative position here  ------------------------------------------------------->
<!---------------------------------------------------------Change html relative position here  ------------------------------------------------------->
                    <li>
                        <a href="../../../index.html">Latest</a>
                    </li>
                    <li>
                        <a href="../../../about.html">About</a>
                    </li>
                    <li>
                        <a href="../../../category.html">Category</a>
                    </li>
                    <!--
                    <li>
                        <a href="../../contact.html">Contact</a>
                    </li>
                    -->
<!---------------------------------------------------------Change html relative position here  ------------------------------------------------------->
<!---------------------------------------------------------Change html relative position here  ------------------------------------------------------->
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
<!---------------------------------------------------------Change URL relative position here  ------------------------------------------------------->   
<!---------------------------------------------------------Change URL relative position here  ------------------------------------------------------->   
    <header class="intro-header" style="background-image: url('hello-world.png')">
<!---------------------------------------------------------Change URL relative position here  ------------------------------------------------------->   
<!---------------------------------------------------------Change URL relative position here  ------------------------------------------------------->   
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
<!-------------------------------------------------------------------header goes here  --------------------------------------------------------------->
<!-------------------------------------------------------------------header goes here  --------------------------------------------------------------->
                        <h1>作業二</h1>
                        <h2 class="subheading">助教辛苦惹～～</h2>
                        <span class="meta">Posted by <a>Fernando Lin</a> on 10, 08, 2016</span>
<!-------------------------------------------------------------------header goes here  --------------------------------------------------------------->
<!-------------------------------------------------------------------header goes here  --------------------------------------------------------------->
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Post Content -->
    <article>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <!--
                    <h2 class="section-heading">用這個來寫標題</h2>
                    <p>用這個寫內文</p>
                    <p>\(...inline latex use this tag...\)</p>
                    <p>$$...Out-of-line latex use this tag...$$</p>
                    <blockquote>用這個寫註解</blockquote>
                -->                        
<!-------------------------------------------------------------------content goes here  --------------------------------------------------------------->
                     
                     <p>寫一寫發現這份作業如果不寫老師加題的話很和平，但是一寫老師加題的話就會變得暴力無比。真是辛苦助教惹</p>
                    <h2 class="section-heading">1.E2.1 </h2>
                    <p>在不拉負回授的狀況下，輸入r與輸出y的關係為：</p>
                    <p>$$y = r^{2}$$</p>
                    <p>把這個關係式稍微做一下圖的話，可以得到：</p>
                    <img clas = "img-responsive" src="Homework2_res/1-1_no_feedback.png" alt="">
                    <p>接著要拉unity feedback。稍微做一下transfer function</p>
                    <p>$$(r - y)^{2} = y$$</p>
                    <p>暴力解出\(y\)與\(r\)的關係：</p>
                    <p>$$r^{2} - 2ry + y^{2} = y$$</p>
                    <p>稍微整理一下：</p>
                    <p>$$y^{2} - (2r + 1)y + r^{2}= 0$$</p>
                    <p>因此：</p>
                    <p>$$y  = \frac {(2r-1) \pm \sqrt{(2r+1)^{2}-4r^{2}}}{2}
                            = \frac {(2r-1) \pm \sqrt{4r + 1}}{2} 
                        $$
                    </p>
                    <p>將兩者與剛剛的圖形一起繪出，可以得到如下的結果：</p>
                    <img class = "img-responsive" src="Homework2_res/1-2all_with_feedback.png" alt="">
                    <p>後者看起來幾乎是直的線。所以可以發現在[0, 4]之內，有unity feedback比開路還要來的線性。</p>

                     <h2 class="section-heading">2. E2.25</h2>
                      <p>(a)問0附近的現小信號模型長怎樣，所以就求各自的微分。在0處微分顯然是0，所以在[-0.5,0,5]：</p>
                      <p>$$v_{o} = 0$$</p>
                      <p>(b)問1附近的小信號模型，因為\(v^{'}_{o}(1) = 2 \cdot 1 = 2\)，而且過(1, 1)，所以[0.5, 1.5]的小信號模型是：</p>
                      <p>$$v_{o} = 2(v_{in} - 1) + 1$$</p>
                      <p>既然說了就要附<s>真相</s>圖。我這不就來了嗎：</p>
                      <img class = "img-responsive" src="Homework2_res/4small_signal.png" alt="">
                    
                    <h2 class="section-heading">3. P2.1 </h2>
                    <p>題目顯然出的有點問題。因為連\(i_{1}\)是流經\(R_{1}\)的電流，或是流經\(R_{2}\)的電流都沒講。我假定\(i_{1}\)是流經\(R_{2}\)電子的電流。</p>
                    <p>因為：</p>
                    <p>$$R \Rightarrow V = IR$$</p>
                    <p>$$L \Rightarrow V = I'L$$</p>
                    <p>$$C \Rightarrow V = \int I/Cdt$$</p>

                    <p>所以繞\(i_{1}\)一圈，根據KVL：</p>
                    <p>$$R_{1}(i_{1} + i_{2}) + \int (i_{1} + i_{2})/C_{1}dt + i_{1}^{\space '}L_{1} + i_{1}R_{2} = v(t)$$</p>
                    <p>針對\(i_{2}\)迴圈：</p>
                    <p>$$i_{1}^{\space '}L_{1} + i_{1}R_{2} = \int i_{2}/C_{2}dt + i_{2}R_{3} $$</p>
                    <p>這就是題目要的兇惡的integrodifferential equations了。真是</p>

                    <p>然後要求Transfer Function，策略是用把每個元件用s域阻抗計算，這時候就可以化為s域串並聯問題解決：</p>
                    <p>$$Z_{L} = V_{L}(s)/I_{L}(s) = sL$$</p>
                    <p>$$Z_{R} = V_{R}(s)/I_{R}(s) = R$$</p>
                    <p>$$Z_{C} = V_{C}(s)/I_{C}(s) = \frac {1} {sC}$$</p>
                    <p>首先計算兩\(R_{2}\)與\(R_{3}\)分支的阻抗\(Z_{2}\)、\(Z_{3}\)：</p>
                    <p>$$Z_{2} = sL_{1} + R_{2}$$</p>
                    <p>$$Z_{3} = R_{3} + \frac {1} {sC_{2}} = \frac {R_{3}C_{2}s + 1}{sC_{2}}$$</p>
                    <p>以及\(R_{1}\)部分組抗：</p>
                    <p>$$Z_{1} = R_{1} + \frac {1} {sC_{1}} = \frac {R_{1}C_{1}s + 1}{sC_{1}}$$</p>
                    <p>所以，整個電路其實就化為：</p>
                    <p>$$Z_{1} + (Z_{2} || Z_{3})$$</p>
                    <p>其中 + 表示串連，||表示並聯。由此可以計算出\(I_{2}(s)\)與\(V(s)\)的關係：</p>
                    <p>$$I_{1}(s) = \frac {V(s)} {Z_{1} + (Z_{2} || Z_{3})} \cdot \frac {Z_{2}} {Z_{2} + Z_{3}}$$</p>
                    <p>所以$$\frac {I_{1}(s)}{V(s)} = H(s) = \frac {1} {Z_{1} + (Z_{2} || Z_{3})} \cdot \frac {Z_{2}} {Z_{1} + Z_{2}}
                        = \frac {1} {Z_{1} + \frac{Z_{2}Z_{3}}{Z_{2} + Z_{3}}} \cdot \frac {Z_{2}} {Z_{1} + Z_{2}}$$</p>
                    <p>然後把\(Z_{1}, Z_{2},Z_{2}\)暴力帶入就可以了。不過這不管怎麼看都很痛苦。為了助教與我自己的健康，我選擇相信編譯器<s>長樹</s>常數折疊的能力。</p>
                    <!----
                    <p>首先計算
                        $$\frac {1} {Z_{1} + (Z_{2} || Z_{3})} = \frac {1} {\frac {R_{1}C_{1}s + 1}{sC_{1}} + \frac{(sL_{1} + R_{2})(\frac {R_{3}C_{2}s + 1}{sC_{2}})}{(sL_{1} + R_{2}) + (\frac {R_{3}C_{2}s + 1}{sC_{2}})}}$$
                       接下來就是無盡的暴力惹：
                        $$  \frac {1} {\frac {R_{1}C_{1}s + 1}{sC_{1}} + \frac{(sL_{1} + R_{2})(\frac {R_{3}C_{2}s + 1}{sC_{2}})}{(sL_{1} + R_{2}) + (\frac {R_{3}C_{2}s + 1}{sC_{2}})}} = 
                            \frac {1} {(R_{1}C_{1}s + 1)[(sL_{1} + R_{2}) + (\frac {R_{3}C_{2}s + 1}{sC_{2}})] + sC_{1}(sL_{1} + R_{2})(\frac {R_{3}C_{2}s + 1}{sC_{2}})}$$
                       然後暴力...     
                        $$  \frac {1} {(R_{1}C_{1}s + 1)[(sL_{1} + R_{2}) + (\frac {R_{3}C_{2}s + 1}{sC_{2}})] + sC_{1}(sL_{1} + R_{2})(\frac {R_{3}C_{2}s + 1}{sC_{2}}) } \\[2cm]
                            = \frac {sC_{2}} {(R_{1}C_{1}s + 1)[sC_{2}(sL_{1} + R_{2}) + {R_{3}C_{2}s + 1})] + sC_{1}(sL_{1} + R_{2})(R_{3}C_{2}s + 1) } \\[2cm]
                            = \frac {sC_{2}} {(R_{1}C_{1}s + 1)[s^{2}L_{1}C_{2} + s(R_{2}C_{2} + R_{3}C_{2}) + 1] + sC_{1}(s^{2}L_{1}R_{3}C_{2} + s(R_{2}R_{3}C_{2} + L_{1}) + R_{2})} \\[2cm]
                            = \frac {sC_{2}} {s^{3}(R_{1}L_{1}C_{1}C_{2} + L_{1}R_{3}C_{1}C_{2}) + s^{2}(R_{1}R_{2}C_{1}C_{2} + R_{1}R_{3}C_{1}C_{2} + L_{1}C_{2} + R_{2}R_{2}C_{1}C_{2} + L_{1}C_{1}) + s(R_{1}C_{1} + R_{2}C_{2} + R_{3}C_{2} + R_{2}C_{1}) + (1)} \\[2cm]  
                            $$
                         接著是\(\frac {Z_{2}}{Z_{1} + Z_{2}}\)：   
                        $$$$
                        
                    </p>
                    -->
                    <h2 class="section-heading">4. P2.2 </h2>
                    <p>對於\(M_{1}\)：
                        $$ M_{1} \ddot{y_{1}} + ky_{1} + b\dot{y_{1}}  + k_{12}(y_{1} - y_{2})= F + M_{1}g $$
                       取Laplace Transform：
                        $$M_{1} s^{2}Y_{1} + kY_{1} + bsY_{1}  + k_{12}(Y_{1} - Y_{2})= F(s) + \frac{M_{1}g}{s}$$ 
                        化簡一下，得到：
                        $$[M_{1}s^{3} + bs^{2} + (k + k_{12})s]Y_{1} + [-k_{12}s]Y_{2} = sF(s) + M_{1}g$$
                       對於\(M_{2}\)： 
                        $$- k_{12}(y_{2} - y_{1}) - M_{2}g= M_{2}\ddot{y}_{2}$$
                       取Laplace：
                        $$ - k_{12}Y_{2} + k_{12}Y_{1} - \frac {M_{2}g}{s} = M_{2}s^{2}Y_{2}$$
                       化簡一下，得到：
                        $$- k_{12}sY_{1} + [M_{2}s^{3} + k_{12}s]Y_{2} = M_{2}g$$  
                       然後看看剛剛得到的：
                        $$[M_{1}s^{3} + bs^{2} + (k + k_{12})s]Y_{1} + [-k_{12}s]Y_{2} = sF(s) + M_{1}g$$
                        我真希望此時此刻我有一個可以化簡symbol的程式可以用。下次我一定要好好尋找這種工具。
                       用克拉瑪公式解\(Y_{2}\)：
                        $$\Delta = [M_{1}s^{3} + bs^{2} + (k + k_{12})s][M_{2}s^{3} + k_{12}s] + [k_{12}s][k_{12}s]$$ 
                        $$\Delta_{Y_{2}} = [M_{1}s^{3} + bs^{2} + (k + k_{12})s][M_{2}g] - [sF(s) + M_{1}g][k_{12}s]$$
                       因此Transfer Function 為：
                        $$\frac {[M_{1}s^{3} + bs^{2} + (k + k_{12})s][M_{2}g] - [sF(s) + M_{1}g][k_{12}s]}
                                {[M_{1}s^{3} + bs^{2} + (k + k_{12})s][M_{2}s^{3} + k_{12}s] + [k_{12}s][k_{12}s]}$$ 
                    </p>


                    <h2 class="section-heading">5. P2.3 </h2>
                    <p>對於左邊的質量：</p>
                    <p> 
                        $$F - kx_{1} + k(x_{2} - x_{1}) = M\ddot{x_{1}}$$
                        $$M\ddot{x_{1}} + 2kx_{1} - kx_{2} = F$$
                    </p>
                    <p>對於右邊的質量：</p>
                    <p>
                        $$-k(x_{2} - x_{1}) -b\dot{x_{2}} = M\ddot{x_{2}}$$
                        $$M\ddot{x_{2}} + b\dot{x_{2}} + kx_{2} - kx_{1} = 0$$
                    </p>
                    <p>接著對二式做Laplace：
                        $$Ms^{2}X_{1} + 2kX_{1} - kX_{2} = F(s)$$
                        $$Ms^{2}X_{2} + bsX_{2} + kX_{2} - kX_{1} = 0$$
                        稍作化簡，得到：
                        $$(Ms^{2} + 2k)X_{1} - kX_{2} = F(s)$$
                        $$(Ms^{2} + bs + k)X_{2} - kX_{1} = 0$$
                        由下式可得：
                        $$X_{1} = \frac {Ms^{2} + bs + k}{k} X_{2}$$
                        帶入上式得：
                        $$(Ms^{2} + 2k)(\frac {Ms^{2} + bs + k}{k}) X_{2} - kX_{2} = F(s)$$
                        稍作化簡：
                        $$ (Ms^{2} + 2k)(\frac {Ms^{2} + bs + k}{k}) X_{2} - kX_{2} = 
                        X_{2}
                        [
                            s^{4}(\frac {M^{2}}{k}) + 
                            s^{3}(\frac {Mb}{k}) + 
                            s^{2}(3M) + 
                            s(2b) + 
                            (k) 
                        ]    
                        = F(s)
                            
                            $$
                        因此：
                        $$\frac {X_{2}}{F(s)} = 
                        \frac {k}
                        { 
                            M^{2}s^{4} + 
                            Mbs^{3} + 
                            3kMs^{2} + 
                            2kbs + 
                            k^{2}                             
                        }
                        $$
                        後記：本來想用能量守恆 + 暴力微分求出governing equation。但後來發現是自虐的做法。發現好多自己覺得很猛的招最後都吃屎，嗚嗚～

                    </p>
                    <!---
                    <p>首先來個能量守恆：</p>
                    <p>$$(\frac {1} {2} k {x_{1}}^{2} + \frac {1}{2} M {\dot{x_{1}}}^{2}) + 
                        (\frac {1} {2} k {(x_{2} - x_{1})}^{2} + \frac{1}{2}M {\dot{x_{2}}}^{2}) + bv_{2}x_{b} = const + Fx_{1}$$
                        假設彈簧原長\(L_{1}, L_{2}\)，整個系統長度L，則阻尼b的位置為:
                        $$x_{damp} = L - (L_{1} + x_{1}) - (L_{2} + x_{2})$$
                        對剛剛的方程式左右同時微分，得到：
                        $$$$

                        </p>
                   --->     
                   <h2 class="section-heading">6. P2.13 </h2>
                   <p>第一眼看過去，發現大部分都可以沿用s域阻抗處理。所以就碾壓過去：</p>
                   <p>$$I_{f} = \frac {V_{f}}{R_{f} + sL_{f}} \Rightarrow V_{g} = \frac {K_{g}}{R_{f} + sL_{f}}V_{f}$$</p>
                   <p>接著求\(I_{g}\)</p>
                   <p>$$I_{g} = \frac{K_{g}V_{f}}{[s(L_{g} + L_{f}) + (R_{g} + R_{f})][R_{f} + sL_{f}]}$$</p>
                   <p> 所以
                       $$T_{M} = K_{m}I_{g} =  \frac{K_{g}K_{m}V_{f}}{[s(L_{g} + L_{f}) + (R_{g} + R_{f})][R_{f} + sL_{f}]}$$
                       其實我不知道為什麼是這個關係。不過我還是用了。最後找出力矩與角速度的關係式，只要跟阻尼震盪做點類比就可以求出：
                       $$T_{L} = (s^{2}J_{L} + sb_{L}){\Theta}_{L}$$
                       $$T_{M} = (s^{2}J_{m} + sb_{m}){\Theta}_{m} + T_{L} \frac {N_{1}}{N_{2}}= (s^{2}J_{m} + sb_{m}){\Theta}_{m} + (s^{2}J_{L} + sb_{L}){\Theta}_{L}n$$
                       因為他要問\(\theta_{L}\)的Transfer Function，所以讓他開心：
                       $$\theta_{M}N_{1} = \theta_{L}N_{2} \Rightarrow \theta_{M} = \frac {1}{n}\theta_{L}$$
                       所以
                       $$T_{m} = (s^{2}J_{m} + sb_{m})\frac {1}{n}\Theta_{L} + (s^{2}J_{L} + sb_{L}){\Theta}_{L}n = 
                                \frac{K_{g}K_{m}V_{f}}{[s(L_{g} + L_{f}) + (R_{g} + R_{f})][R_{f} + sL_{f}]}$$
                       因此:
                       $$ \frac {\Theta_{L}}{V_{f}} = 
                          \frac {
                            K_{g}K_{m}
                          }{
                            [(s^{2}J_{m} + sb_{m})\frac {1}{n} + (s^{2}J_{L} + sb_{L})n]
                            [s(L_{g} + L_{f}) + (R_{g} + R_{f})][R_{f} + sL_{f}]
                          }  
                       
                       $$  
                       一天又平安的過去了，感謝Trandfer Function的努力。       
                   </p>

                              







                
               
                        

                    


                    

                  

                 
                   
                    


<!-------------------------------------------------------------------content goes here  --------------------------------------------------------------->
                </div>
            </div>
        </div>
    </article>

    <hr>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <ul class="list-inline text-center">
                        <li>
                            <a>
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="https://www.facebook.com/profile.php?id=100001416766501">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="https://github.com/0xff07">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    </ul>
                    <p class="copyright text-muted">Copyright &copy; Yo-Jung Lin 2016</p>
                </div>
            </div>
        </div>
    </footer>






<!---------------------------------------------------------Change html relative position here  ------------------------------------------------------->
<!---------------------------------------------------------Change html relative position here  ------------------------------------------------------->
    <!-- jQuery -->
    <script src="../../../vendor/jquery/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="../../../vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="../../../js/jqBootstrapValidation.js"></script>
    <script src="../../../js/contact_me.js"></script>

    <!-- Theme JavaScript -->
    <script src="../../../js/clean-blog.min.js"></script>
<!---------------------------------------------------------Change html relative position here  ------------------------------------------------------->
<!---------------------------------------------------------Change html relative position here  ------------------------------------------------------->
   




</body>

</html>
