<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
<!-------------------------------------------------------------title goes here  ---------------------------------------------------------------------->
<!-------------------------------------------------------------title goes here  ---------------------------------------------------------------------->
    <title>[自控]作業三</title>
<!-------------------------------------------------------------title goes here  ---------------------------------------------------------------------->
<!-------------------------------------------------------------title goes here  --------------------------------------------------------------------->


    <!-- Bootstrap Core CSS -->
<!---------------------------------------------------------Change CSS relative position here  -------------------------------------------------------->    
<!---------------------------------------------------------Change CSS relative position here  -------------------------------------------------------->
    <link href="../../../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Theme CSS -->
    <link href="../../../css/clean-blog.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="../../../vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
<!---------------------------------------------------------Change CSS relative position here  -------------------------------------------------------->
<!---------------------------------------------------------Change CSS relative position here  -------------------------------------------------------->
    <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- 下面這行加入Math Jax 的 LaTex CDN -->
    <script type="text/javascript" src="../../../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    <!-- 下面這行加入vim 顯示程式碼的主題 -->
    <style type="text/css">
        pre { white-space: pre-wrap; font-family: monospace; color: #000000; background-color: #ffffff; }
    </style>
   

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    Menu <i class="fa fa-bars"></i>
                </button>
<!---------------------------------------------------------Change html relative position here  -------------------------------------------------------->        
<!---------------------------------------------------------Change html relative position here  -------------------------------------------------------->        
                <a class="navbar-brand" href="../../../index.html">Noob Notes</a>
<!---------------------------------------------------------Change html relative position here  -------------------------------------------------------->        
<!---------------------------------------------------------Change html relative position here  -------------------------------------------------------->        
            </div>



            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
<!---------------------------------------------------------Change html relative position here  -------------------------------------------------------->
<!---------------------------------------------------------Change html relative position here  -------------------------------------------------------->
                    <li>
                        <a href="../../../index.html">Latest</a>
                    </li>
                    <li>
                        <a href="../../../about.html">About</a>
                    </li>
                    <li>
                        <a href="../../../category.html">Category</a>
                    </li>
                    <!--
                    <li>
                        <a href="../../contact.html">Contact</a>
                    </li>
                    -->
<!---------------------------------------------------------Change html relative position here  -------------------------------------------------------->
<!---------------------------------------------------------Change html relative position here  -------------------------------------------------------->
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
<!---------------------------------------------------------Change URL relative position here  -------------------------------------------------------->   
<!---------------------------------------------------------Change URL relative position here  -------------------------------------------------------->   
    <header class="intro-header" style="background-image: url('hello-world.png')">
<!---------------------------------------------------------Change URL relative position here  -------------------------------------------------------->   
<!---------------------------------------------------------Change URL relative position here  -------------------------------------------------------->   
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading">
<!-------------------------------------------------------------------header goes here  ---------------------------------------------------------------->
<!-------------------------------------------------------------------header goes here  ---------------------------------------------------------------->
                        <h1>作業三</h1>
                        <h2 class="subheading">助教辛苦惹～～</h2>
                        <span class="meta">Posted by <a>Fernando Lin</a> on 10, 08, 2016</span>
<!-------------------------------------------------------------------header goes here  ---------------------------------------------------------------->
<!-------------------------------------------------------------------header goes here  ---------------------------------------------------------------->
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Post Content -->
    <article>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <!--
                    <h2 class="section-heading">用這個來寫標題</h2>
                    <p>用這個寫內文</p>
                    <p>\(...inline latex use this tag...\)</p>
                    <p>$$...Out-of-line latex use this tag...$$</p>
                    <blockquote>用這個寫註解</blockquote>
                -->                        
<!--- ---------------------------------------------------------------content goes here  ---------------------------------------------------------------->
                     
                     
                    <h2 class="section-heading">1.P2.26 </h2>
                    <p>
                        對於M：
                        $$M\ddot{x} + b(\dot{x} - \dot{y}) + k(x - y) = F$$
                        對於m
                        $$m\ddot{y} - b(\dot{x} - \dot{y}) - k(x - y) = 0$$
                        一起取Laplace：
                        $$Ms^{2}X + bsX - bsY + kX - kY = F(s)$$
                        $$ms^{2}Y - bsX + bsY - kX + kY = 0$$
                        稍微整理：
                        $$[Ms^{2} + bs + k]X - [bs + k]Y = F(s)$$
                        $$ - [bs + k]X + [ms^{2} - bs + k]Y= 0$$
                        解Y, 得：
                        $$Y(s) = \frac {F(s)[bs + k]} {Ms^{2} + bs + k][ms^{2} - bs + k] - [bs + k]^{2}}$$
                        故Transfer Function為：
                        $$\frac {Y(s)}{F(s)} = \frac {bs + k} {[Ms^{2} + bs + k][ms^{2} - bs + k] - (bs + k)^{2}}$$
                    </p>
       
                    <h2 class="section-heading">2.P2.31 </h2>
                    <p>(用Mason's Rule)</p>
                    <p>(用手寫在後面)</p>
                    <h2 class="section-heading">3.P2.34 </h2>
                    <p> 對於車體：\(m_{1}\)
                        $$m_{1}\ddot{y}_{1} + b(\dot{y}_{1} - \dot{y}_{2}) + k_{1}(y_{1} - y_{2}) = - m_{1}g$$
                        做Laplace：
                        $$m_{1}s^{2}Y_{1} + bsY_{1} - bsY_{2} + k_{1}Y_{1} - k_{1}Y_{2} = - \frac {m_{1}g}{s}$$
                        化簡得：
                        $$[m_{1}s^{2} + bs + k_{1}]Y_{1} - (bs + k_{1})Y_{2} = - \frac {m_{1}g}{s}$$
                        對於車輪：
                        $$m_{2}\ddot{y}_{2} + b(\dot{y}_{2} - \dot{y}_{1}) + k_{1}(y_{2} - y_{1}) + k_{2}(y_{2} - x) = - m_{2}g$$
                        化簡得：
                        $$ - (bs + k_{1})Y_{1}  + [m_{2}s^{2} + bs + (k_{1} + k_{2})]Y_{2} = \frac {-m_{2}g}{s} + k_{2}X$$
                        因此兩條算式為：
                        $$[m_{1}s^{2} + bs + k_{1}]Y_{1} - (bs + k_{1})Y_{2} = - \frac {m_{1}g}{s}$$
                        $$ - (bs + k_{1})Y_{1}  + [m_{2}s^{2} + bs + (k_{1} + k_{2})]Y_{2} = \frac {-m_{2}g}{s} + k_{2}X$$
                        利用克拉瑪公式：
                        $$\Delta = [m_{1}s^{2} + bs + k_{1}][m_{2}s^{2} + bs + (k_{1} + k_{2})] - (bs + k_{1})^{2}$$
                        $$\Delta_{Y_{1}} = - \frac {m_{1}g}{s}[m_{2}s^{2} + bs + (k_{1} + k_{2})] -  (bs + k_{1})[\frac {-m_{2}g}{s} + k_{2}X]$$
                        故：
                        $$Y_{1} = \frac {\Delta_{Y_{1}}}{\Delta} =  \frac { - \frac {m_{1}g}{s}[m_{2}s^{2} + bs + (k_{1} + k_{2})] -  (bs + k_{1})[\frac {-m_{2}g}{s} + k_{2}X]}
                                                                            {[m_{1}s^{2} + bs + k_{1}][m_{2}s^{2} + bs + (k_{1} + k_{2})] - (bs + k_{1})^{2}}
                                                                    $$
                        然後發現這樣一定做不出來啊～一定是題目出錯了。那我們就用錯的做法試試看好了。假設重力被忽略：
                        $$[m_{1}s^{2} + bs + k_{1}]Y_{1} - (bs + k_{1})Y_{2} = 0$$
                        $$ - (bs + k_{1})Y_{1}  + [m_{2}s^{2} + bs + (k_{1} + k_{2})]Y_{2} = k_{2}X$$
                        根據克拉瑪公式：
                        $$\Delta = [m_{1}s^{2} + bs + k_{1}][m_{2}s^{2} + bs + (k_{1} + k_{2})] - (bs + k_{1})^{2}$$
                        $$\Delta_{Y_{1}} = (bs + k_{1})k_{2}X$$
                        因此：
                        $$Y_{1} = \frac {\Delta_{Y_{1}}}{\Delta} ＝ \frac {(bs + k_{1})k_{2}X}{[m_{1}s^{2} + bs + k_{1}][m_{2}s^{2} + bs + (k_{1} + k_{2})] - (bs + k_{1})^{2}}$$
                        故Trandfer Function為：
                        $$\frac {Y_{1}}{X} =  \frac {(bs + k_{1})k_{2}}{[m_{1}s^{2} + bs + k_{1}][m_{2}s^{2} + bs + (k_{1} + k_{2})] - (bs + k_{1})^{2}}$$
                        哇～這樣就算出答案了～為了算出答案，就算是忽略重力也是沒有關係的。    
                    </p>
                    <h2 class="section-heading">4.P2.44 </h2>
                    <p>
                        首先，他說這是個圓柱，半徑r, 厚度L, 要求\(J_{L}\)。跟普物有85％像：
                        $$ J_{L} = \int_{0}^{r} r'^{2} \cdot (2 \pi r' L dr')\rho = 2 \pi \rho L \int_{0}^{r} r'^{3}dr' =  \frac {\pi \rho L r^{4}}{2}$$
                        接著要求\(T_{L}\)。不過題目給的不清不楚，要用什麼表示也不知道，真是很掃興。那就假設用外面看得到的，負載的角速度\(w_{L}\)吧。首先是:
                        $$T_{L} = J_{L} \alpha_{L} = \frac {\pi \rho L r^{4}}{2} \dot{w}_{L}$$
                        $$F_{edge} = \frac {T_{L}}{R_{1}} = \frac {\pi \rho L r^{4}}{2R_{1}} \dot{w}_{L}$$
                        這樣就求出作用在齒輪邊緣的力，也可求得齒輪組1對2的力矩。在motor的運作中，除了要讓自身轉動，還要克服1給2的力矩(簡單化一下力圖也看得出來)。因此可求得：
                        $$F_{edge} \cdot R_{2} + J_{m} \dot{w}_{M}  = T$$
                        帶入剛剛計算出的東西：
                        $$\frac {\pi \rho L r^{4}}{2} \dot{w}_{L} \frac {R_{2}}{R_{1}} + J_{m} \dot {w}_{M} = T$$
                        接下來利用Gear Ratio的關係，結果發現她沒有給n，也不知道是不是能用這個符號。算了，直接用N好了：
                        $$w_{L}N_{1} = w_{M}N_{2} \Rightarrow w_{M} = \frac {N_{1}}{N_{2}} w_{L}$$
                        以及
                        $$\frac {R_{1}}{R_{2}} = \frac {N_{1}}{N_{2}}$$
                        因此
                        $$T = \frac {\pi \rho L r^{4}}{2} \dot{w}_{L}  \frac {N_{2}}{N_{1}} + J_{m}\frac {N_{1}}{N_{2}} \dot{w_{L}}$$

                                             


                    </p>

                    <h2 class="section-heading">5.P2.46 </h2>
                    <p>
						(覺得整份作業都在瘋狂解Laplace)
						列出系統的governing equation：
                        $$F + b_{1}sX_{2} - b_{1}sX{1} + k_{1}X_{2} - k_{1}X{1} = m_{v}s^{2}X_{1} $$
                        $$[m_{v}s^{2} + b_{1}s + k_{1}]X_{1} - [b_{1}s + k_{1}]X_{2} = F$$
						及：
                        $$b_{1}sX_{1} - b_{1}sX{2} + k_{1}X_{1} - k_{1}X{2} + b_{2}sX_{2} + k_{2}X_{2} = m_{1}s^{2}X_{2}$$
                        $$[b_{1}s + k_{1}]X_{1} + [m_{1}s^{2}  + (b_{2} -b_{1})s + (k_{2} - k_{1} )]X_{2} = 0$$
                        解聯立得：
                        $$X_{1} = \frac { F [m_{1}s^{2}  + (b_{2} -b_{1})s + (k_{2} - k_{1} )]}
                                        {[m_{v}s^{2} + b_{1}s + k_{1}][m_{1}s^{2}  + (b_{2} -b_{1})s + (k_{2} - k_{1} )] + (b_{1}s + k_{1})^{2} }
                        $$
                        因此Transfer Function為:
                        $$\frac {X_{1}}{F(s)} = \frac { [m_{1}s^{2}  + (b_{2} -b_{1})s + (k_{2} - k_{1} )]}
                                                {[m_{v}s^{2} + b_{1}s + k_{1}][m_{1}s^{2}  + (b_{2} -b_{1})s + (k_{2} - k_{1} )] + (b_{1}s + k_{1})^{2} }$$


                    </p>

                    <h2 class="section-heading">6.CP2.9 </h2>          
                    <p>Code長這樣：</p>
                    <pre id='vimCodeElement'>
                        G = tf([1, 1], [1, 2])
                        H = tf(1, [1, 1])

                        %close loop function goes here:
                        sys = G / (1 + G * H)

                        %plot pole-zero plot:
                        pzmap(sys)
                    </pre>


                    <p>然後他會說Transfer Function長這樣：</p>

                    <pre id='vimCodeElement'>
                    sys =
 
                        s^3 + 4 s^2 + 5 s + 2
                       ----------------------
                       s^3 + 6 s^2 + 11 s + 6
                    </pre>

                    <p>稍微畫一下圖：</p>
                    <img class = "img-responsive" src="Homework3_res/CP2_9.png" alt="">
                    <p>可以發現在\(s = -2\)有一個pole-zero cancelation。把它消掉：</p>

                    <pre id='vimCodeElement'>
                        %cancel pole and zero
                        sys = minreal(sys)

                        %and print the result
                        pzmap(sys)
                    </pre>

                    <p>圖長這樣：</p>
                    <img class = "img-responsive" src="Homework3_res/CP2_9-2.png" alt="">
                    <p>他會說Transfer Function長這樣：</p>
                    <pre id = 'vimCodeElement'>
                        sys =

                            s + 1
                            -----
                            s + 3
                    </pre>
                    <p>注意pole-zero cancelation是一件很重要的事，因為他有可能會讓人誤判系統穩定性。比如說：</p>
                    <p>$$H(s) = \frac {s - 1}{(s - 1)(s + 2)}$$</p>
                    <p>如果把它做 poke-zero cancelation，會得到：</p>
                    <p>$$H(s) = \frac {1} {s + 2}$$</p>
                    <p>所有pole都在左半邊，看起來很穩定。但是這會有一個bug：Transfer Function都是在zero initial condition狀況下考量的。如果今天initial condition不是0，回到原來的DE看：
                        $$y'' + y' - 2 = u' - u $$
                        $$s^2Y + sY - 2Y - y(0)(s + 1) - y'(0) = sU - U - u(0)$$
                        做一些移項。注意右半邊有關initial conidition的項：
                        $$Y = \frac {s - 1}{s^{2} + s - 2}U + \frac {s + 1}{s^{2} + s - 2}y(0) + \frac {y'(0) + u(0)}{s^{2} + s - 2}$$
                        可以發現最右邊的 \(\frac {y'(0) + u(0)}{s^{2} + s - 2} = \frac {y'(0) + u(0)}{(s + 2)(s - 1)}\)，只要initial condition不是0，就會爆掉。這是pole-zero cancelation時會發生的悲劇。
                        探究其原因，可以發現是在不合時宜的地方砍掉了右半邊成對的pole-zero產生的悲劇。
                    </p>



                    <h2 class="section-heading">Bonus 1</h2>
					<p>時間<s>長樹</s>常數的定義：假定有一個霧了鍊的變化模型是：</p>
					<p>
						$$A = A(0)e^{-at}$$
						那麼\(\frac {1}{a}\)就是這個系統的時間常數。
						時間常數大致表示「量衰變成\(\frac {1} {e}\)需要花的時間」。跟pole的關係其實也很明顯。比如有一個系統長這樣：
						$$H(s) = \frac {1} {s + a}, a > 0$$
						那麼輸出的Laplace Trancefom就會有\(e^{at}\)這個mode，而這個mode消散的速度，就會跟a有關，而-a剛好是這個系統的pole。
						可以說Pole越往右，時間常數就越小，而系統之中，該pole表示的mode就會消褪得越快。

	
					
					
					
					
					</p>			


                
               
                        

                    


                    

                  

                 
                   
                    


<!-------------------------------------------------------------------content goes here  --------------------------------------------------------------->
                </div>
            </div>
        </div>
    </article>

    <hr>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <ul class="list-inline text-center">
                        <li>
                            <a>
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="https://www.facebook.com/profile.php?id=100001416766501">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="https://github.com/0xff07">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    </ul>
                    <p class="copyright text-muted">Copyright &copy; Yo-Jung Lin 2016</p>
                </div>
            </div>
        </div>
    </footer>






<!---------------------------------------------------------Change html relative position here  ------------------------------------------------------->
<!---------------------------------------------------------Change html relative position here  ------------------------------------------------------->
    <!-- jQuery -->
    <script src="../../../vendor/jquery/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="../../../vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="../../../js/jqBootstrapValidation.js"></script>
    <script src="../../../js/contact_me.js"></script>

    <!-- Theme JavaScript -->
    <script src="../../../js/clean-blog.min.js"></script>
<!---------------------------------------------------------Change html relative position here  ------------------------------------------------------->
<!---------------------------------------------------------Change html relative position here  ------------------------------------------------------->
   




</body>

</html>
